;const throttle=(fn,wait)=>{let inThrottle,lastFn,lastTime;return function(){const context=this,args=arguments;if(!inThrottle){fn.apply(context,args);lastTime=Date.now();inThrottle=true;}else{clearTimeout(lastFn);lastFn=setTimeout(function(){if(Date.now()-lastTime>=wait){fn.apply(context,args);lastTime=Date.now();}},Math.max(wait-(Date.now()-lastTime),0));}};};const delayTime=420;;window.addEventListener("DOMContentLoaded",event=>{const header=document.querySelector('.header');if(header){const headerHeight=window.getComputedStyle(header,null).getPropertyValue('height');document.documentElement.style.setProperty('--header-height',headerHeight);}},{once:true});;window.addEventListener("DOMContentLoaded",event=>{const navToggleLabel=document.querySelector('.nav-toggle');const navToggleLabelInner=document.createElement('div');navToggleLabelInner.className='nav-toggle-inner';navToggleLabel.appendChild(navToggleLabelInner);for(let i=0;i<3;i++){const span=document.createElement('span');navToggleLabelInner.appendChild(span);}
const navToggle=document.getElementById('nav-toggle');const header=document.querySelector('.header');const navCurtain=document.querySelector('.nav-curtain');navToggle.addEventListener('change',(e)=>{if(e.target.checked){header.classList.add('open');navToggleLabel.classList.add('open');header.classList.remove('fade');navCurtain.style='display: block';}else{header.classList.remove('open');navToggleLabel.classList.remove('open');header.classList.add('fade');}});navCurtain.addEventListener('animationend',(e)=>{if(!navToggle.checked){e.target.removeAttribute('style');}});window.addEventListener('scroll',throttle(function(){checkInput();},delayTime));const maxWidth=window.getComputedStyle(document.documentElement,null).getPropertyValue('--max-width');let mediaQuery=window.matchMedia(`(max-width: ${maxWidth})`);mediaQuery.addListener(e=>{if(!e.matches){closeNav(true);}});function checkInput(){const input=document.getElementById('search-input');if(input&&input===document.activeElement){return;}
closeNav();}
function closeNav(noFade){if(navToggle.checked){navToggle.checked=false;header.classList.remove('open');navToggleLabel.classList.remove('open');if(noFade){navCurtain.removeAttribute("style");}
else{header.classList.add('fade');}}}},{once:true});;window.addEventListener("DOMContentLoaded",event=>{const backToTop=document.getElementById('back-to-top');if(backToTop!==null){window.addEventListener('scroll',throttle(function(){window.scrollY>100?backToTop.classList.add('show'):backToTop.classList.remove('show');},delayTime));}},{once:true});;window.addEventListener("DOMContentLoaded",event=>{const commentsToggle=document.getElementById('load-comments');if(commentsToggle!==null){commentsToggle.addEventListener('click',function(){loadComments();this.style="display: none";});}},{once:true});;